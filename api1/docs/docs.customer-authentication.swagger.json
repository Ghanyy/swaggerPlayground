{
  "swagger": "2.0",
  "info": {
    "title": "Customer Authentication API!",
    "description": "Authenticate customers and manage user sessions.",
    "version": "1.0.0"
  },
  "basePath": "/api",
  "schemes": ["http", "https"],
  "paths": {
    "/auth/login": {
      "post": {
        "summary": "Customer Login",
        "description": "Endpoint for customers to authenticate and obtain a session token.",
        "consumes": ["application/json"],
        "produces": ["application/json"],
        "parameters": [
          {
            "in": "body",
            "name": "loginRequest",
            "description": "Login request payload",
            "schema": {
              "$ref": "#/definitions/LoginRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful login",
            "schema": {
              "$ref": "#/definitions/LoginResponse"
            }
          },
          "401": {
            "description": "Unauthorized",
            "schema": {
              "$ref": "#/definitions/ErrorModel"
            }
          }
        }
      }
    },
    "/auth/logout": {
      "post": {
        "summary": "Customer Logout",
        "description": "Endpoint to logout and invalidate the customer's session.",
        "produces": ["application/json"],
        "parameters": [
          {
            "in": "header",
            "name": "Authorization",
            "type": "string",
            "description": "Bearer token obtained during login."
          }
        ],
        "responses": {
          "200": {
            "description": "Successful logout",
            "schema": {
              "$ref": "#/definitions/LogoutResponse"
            }
          },
          "401": {
            "description": "Unauthorized",
            "schema": {
              "$ref": "#/definitions/ErrorModel"
            }
          }
        }
      }
    },
    "/auth/verify": {
      "get": {
        "summary": "Verify Session",
        "description": "Endpoint to verify the validity of a customer's session.",
        "produces": ["application/json"],
        "parameters": [
          {
            "in": "header",
            "name": "Authorization",
            "type": "string",
            "description": "Bearer token obtained during login."
          }
        ],
        "responses": {
          "200": {
            "description": "Session valid",
            "schema": {
              "$ref": "#/definitions/VerifyResponse"
            }
          },
          "401": {
            "description": "Unauthorized",
            "schema": {
              "$ref": "#/definitions/ErrorModel"
            }
          }
        }
      }
    },
    "/auth/change-password": {
      "post": {
        "summary": "Change Password",
        "description": "Endpoint for customers to change their login password.",
        "consumes": ["application/json"],
        "produces": ["application/json"],
        "parameters": [
          {
            "in": "header",
            "name": "Authorization",
            "type": "string",
            "description": "Bearer token obtained during login."
          },
          {
            "in": "body",
            "name": "changePasswordRequest",
            "description": "Change password request payload",
            "schema": {
              "$ref": "#/definitions/ChangePasswordRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Password changed successfully",
            "schema": {
              "$ref": "#/definitions/SuccessResponse"
            }
          },
          "400": {
            "description": "Bad request",
            "schema": {
              "$ref": "#/definitions/ErrorModel"
            }
          },
          "401": {
            "description": "Unauthorized",
            "schema": {
              "$ref": "#/definitions/ErrorModel"
            }
          }
        }
      }
    }
  },
  "definitions": {
    "ErrorModel": {
      "type": "object",
      "properties": {
        "error": {
          "type": "string",
          "description": "Error message."
        }
      }
    },
    "LoginRequest": {
      "type": "object",
      "properties": {
        "username": {
          "type": "string",
          "description": "Customer username."
        },
        "password": {
          "type": "string",
          "description": "Customer password."
        }
      },
      "required": ["username", "password"]
    },
    "LoginResponse": {
      "type": "object",
      "properties": {
        "token": {
          "type": "string",
          "description": "Bearer token for authentication."
        }
      }
    },
    "LogoutResponse": {
      "type": "object",
      "properties": {
        "message": {
          "type": "string",
          "description": "Logout successful message."
        }
      }
    },
    "VerifyResponse": {
      "type": "object",
      "properties": {
        "message": {
          "type": "string",
          "description": "Session verification successful message."
        }
      }
    },
    "ChangePasswordRequest": {
      "type": "object",
      "properties": {
        "oldPassword": {
          "type": "string",
          "description": "Customer's old password."
        },
        "newPassword": {
          "type": "string",
          "description": "Customer's new password."
        }
      },
      "required": ["oldPassword", "newPassword"]
    },
    "SuccessResponse": {
      "type": "object",
      "properties": {
        "message": {
          "type": "string",
          "description": "Success message."
        }
      }
    }
  }
}
